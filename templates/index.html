{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –°–∫–ª–∞–¥ –æ–¥–µ–∂–¥—ã{% endblock %}

{% block content %}
<div class="dashboard">
    <h1 class="page-title">–°–∫–ª–∞–¥ –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏ ‚Äî –û–¥–µ–∂–¥–∞</h1>
    <p style="color: var(--dark); opacity: 0.7; margin-bottom: 2rem; font-size: 1.1rem;">
        –í–∞—Ä–∏–∞–Ω—Ç 19 ‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π (–ø–æ—Ä–æ–≥–æ–≤—ã–π –º–µ—Ç–æ–¥)
    </p>
    
    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; margin-bottom: 2.5rem;">
        <div class="stat-card" style="background: white; border-radius: 16px; padding: 1.5rem; border: 1px solid var(--border);">
            <h3 style="color: var(--dark); margin-bottom: 0.5rem;">üì¶ –¢–∞–±–ª–∏—Ü—ã –≤ –ë–î</h3>
            <p style="font-size: 2.5rem; font-weight: 700; color: var(--dark); margin: 0.5rem 0;">{{ tables|length }}</p>
            <a href="/data" class="btn btn-primary" style="margin-top: 0.75rem;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</a>
        </div>
        
        <div class="stat-card" style="background: white; border-radius: 16px; padding: 1.5rem; border: 1px solid var(--border);">
            <h3 style="color: var(--dark); margin-bottom: 0.5rem;">üìä –°–ü–ü–†</h3>
            <p style="font-size: 1.2rem; font-weight: 500; margin: 0.5rem 0;">–ü–æ—Ä–æ–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</p>
            <a href="/spzr" class="btn btn-success" style="margin-top: 0.75rem;">–û—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ</a>
        </div>
        
        <div class="stat-card" style="background: white; border-radius: 16px; padding: 1.5rem; border: 1px solid var(--border);">
            <h3 style="color: var(--dark); margin-bottom: 0.5rem;">üíæ –°–µ—Ä–≤–∏—Å</h3>
            <p style="font-size: 1.2rem; font-weight: 500; margin: 0.5rem 0;">–ë—ç–∫–∞–ø / –ê—Ä—Ö–∏–≤–∞—Ü–∏—è</p>
            <a href="/service" class="btn" style="margin-top: 0.75rem; background: var(--accent); color: var(--dark);">–ü–µ—Ä–µ–π—Ç–∏</a>
        </div>
    </div>
    
    <div class="card" style="background: white; border-radius: 16px; padding: 1.75rem;">
        <h3 style="color: var(--dark); margin-bottom: 1.25rem;">üìã –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü</h3>
        
        {% if tables %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 1rem;">
            {% for table in tables %}
            <div style="background: var(--light); border-radius: 12px; padding: 1.25rem; border: 1px solid var(--border); transition: 0.2s;">
                <h4 style="color: var(--dark); margin-bottom: 0.5rem; font-weight: 600;">{{ table }}</h4>
                <p style="color: var(--dark); opacity: 0.7; font-size: 0.9rem; margin-bottom: 1rem;">
                    –ó–∞–ø–∏—Å–µ–π: <strong>{{ table_counts.get(table, 0) }}</strong>
                </p>
                <div style="display: flex; gap: 0.5rem;">
                    <a href="/data?table={{ table }}" class="btn btn-sm" style="background: white;">üìÑ –î–∞–Ω–Ω—ã–µ</a>
                    <a href="/query?table={{ table }}" class="btn btn-sm" style="background: white;">üîç –ó–∞–ø—Ä–æ—Å</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p style="text-align: center; padding: 2rem; color: var(--dark); opacity: 0.6;">
            –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        </p>
        {% endif %}
    </div>
</div>
{% endblock %}